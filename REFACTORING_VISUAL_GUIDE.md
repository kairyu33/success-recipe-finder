# Visual Refactoring Guide

## ğŸ“ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

### Before: ç¾åœ¨ã®æ§‹é€  (å•é¡Œã ã‚‰ã‘)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AnalysisResults.tsx                       â”‚
â”‚                         (188è¡Œ)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âŒ const tabs = [ /* 91è¡Œã®JSXãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ */ ]            â”‚
â”‚                                                              â”‚
â”‚  âŒ ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¸¸æ™‚ã‚¤ãƒ³ãƒãƒ¼ãƒˆ               â”‚
â”‚     import { TitlesTab, InsightsTab, ... } Ã—10              â”‚
â”‚                                                              â”‚
â”‚  âŒ ã™ã¹ã¦ã®ã‚¿ãƒ–ãŒæ¯å›ãƒ¬ãƒ³ãƒ€ãƒ¼                              â”‚
â”‚     <TitlesTab data={data} />                               â”‚
â”‚     <InsightsTab data={data} />                             â”‚
â”‚     ... Ã—10                                                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚        â”‚        â”‚        â”‚        â”‚
         â–¼        â–¼        â–¼        â–¼        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Hashtagsâ”‚Titles  â”‚Insightsâ”‚Viralityâ”‚  ...   â”‚
    â”‚Tab     â”‚Tab     â”‚Tab     â”‚Tab     â”‚        â”‚
    â”‚(79è¡Œ)  â”‚(58è¡Œ)  â”‚(146è¡Œ) â”‚(126è¡Œ) â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚        â”‚        â”‚        â”‚        â”‚
    âŒ React.memoç„¡ã—
    âŒ é‡è¤‡ã‚³ãƒ¼ãƒ‰å¤šæ•°
    âŒ SVGãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
    âŒ ç©ºçŠ¶æ…‹ã®é‡è¤‡
    âŒ ã‚¹ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯é‡è¤‡
```

**å•é¡Œç‚¹:**
- é‡è¤‡ã‚³ãƒ¼ãƒ‰: ~500è¡Œ
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: 60.8 KB
- å†ãƒ¬ãƒ³ãƒ€ãƒ¼: 10 components/update
- ä¿å®ˆæ€§: ä½

---

### After: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œ (ã‚¯ãƒªãƒ¼ãƒ³ãªæ§‹é€ )

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AnalysisResults.tsx                         â”‚
â”‚                      (60-70è¡Œ)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âœ… import { ANALYSIS_TABS } from '@/app/config'            â”‚
â”‚  âœ… const TitlesTab = lazy(() => import('./TitlesTab'))     â”‚
â”‚  âœ… <Suspense fallback={<Skeleton />}>                      â”‚
â”‚       {renderActiveTab(activeTab, data)}                    â”‚
â”‚     </Suspense>                                             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Only active tab
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ React.lazy     â”‚
    â”‚ Dynamic Import â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Hashtagsâ”‚
    â”‚Tab     â”‚
    â”‚(40è¡Œ)  â”‚ â† React.memo()
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€ Uses shared components
              â”‚
              â”œâ”€â”€ Icon (SVGä¸€å…ƒç®¡ç†)
              â”œâ”€â”€ EmptyState (ç©ºçŠ¶æ…‹çµ±ä¸€)
              â”œâ”€â”€ ScoreDisplay (ã‚¹ã‚³ã‚¢è¡¨ç¤º)
              â””â”€â”€ useCopyToClipboard (ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰)
```

**æ”¹å–„ç‚¹:**
- é‡è¤‡å‰Šé™¤: 500è¡Œå‰Šæ¸›
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: 34.1 KB (-44%)
- å†ãƒ¬ãƒ³ãƒ€ãƒ¼: 1 component/update (-90%)
- ä¿å®ˆæ€§: é«˜

---

## ğŸ”„ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾å­˜é–¢ä¿‚

### Before: ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£æ§‹é€ 

```
                    AnalysisResults
                           |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        |                  |                  |
    HashtagsTab        TitlesTab         InsightsTab
        |                  |                  |
        |                  |                  |
    ç‹¬è‡ªå®Ÿè£…           ç‹¬è‡ªå®Ÿè£…            ç‹¬è‡ªå®Ÿè£…
    - SVG              - SVG               - SVG
    - ç©ºçŠ¶æ…‹           - ç©ºçŠ¶æ…‹            - ç©ºçŠ¶æ…‹
    - ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½       - ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½        - formatText

    (ã™ã¹ã¦é‡è¤‡ã‚³ãƒ¼ãƒ‰)
```

---

### After: ã‚¯ãƒªãƒ¼ãƒ³ãªéšå±¤æ§‹é€ 

```
                    AnalysisResults
                    (React.lazy)
                           |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        |                  |                  |
    HashtagsTab        TitlesTab         InsightsTab
    (React.memo)       (React.memo)      (React.memo)
        |                  |                  |
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           |
                    Shared Components
                           |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        |                  |                  |
     Icon.tsx       EmptyState.tsx    ScoreDisplay.tsx
        |                  |                  |
   icons.config      text.constants     useScoreColor
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ä¾å­˜é–¢ä¿‚ãŒæ˜ç¢º
- å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§çµ±ä¸€
- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“

---

## ğŸ“¦ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®å¤‰åŒ–

### Before

```
app/components/features/AnalysisResults/
â”œâ”€â”€ AnalysisResults.tsx (188è¡Œ)
â”‚   â””â”€â”€ 91è¡Œã®ã‚¿ãƒ–å®šç¾©
â”œâ”€â”€ HashtagsTab.tsx (79è¡Œ)
â”‚   â”œâ”€â”€ 15è¡Œã®SVG
â”‚   â”œâ”€â”€ 8è¡Œã®ç©ºçŠ¶æ…‹
â”‚   â””â”€â”€ ç‹¬è‡ªã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
â”œâ”€â”€ TitlesTab.tsx (58è¡Œ)
â”‚   â”œâ”€â”€ 15è¡Œã®SVG
â”‚   â”œâ”€â”€ 8è¡Œã®ç©ºçŠ¶æ…‹
â”‚   â””â”€â”€ ç‹¬è‡ªã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
â”œâ”€â”€ ViralityTab.tsx (126è¡Œ)
â”‚   â”œâ”€â”€ getScoreColor() é‡è¤‡
â”‚   â””â”€â”€ ScoreCard ç‹¬è‡ªå®Ÿè£…
â”œâ”€â”€ MonetizationTab.tsx (194è¡Œ)
â”‚   â”œâ”€â”€ getScoreColor() é‡è¤‡
â”‚   â””â”€â”€ ScoreCard ç‹¬è‡ªå®Ÿè£…
â””â”€â”€ SEOTab.tsx (577è¡Œ) â† å·¨å¤§ï¼
    â”œâ”€â”€ 6ã¤ã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â””â”€â”€ è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯

Total: ~1,500è¡Œ (é‡è¤‡å«ã‚€)
```

---

### After

```
app/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/shared/ (æ–°è¦)
â”‚   â”‚   â”œâ”€â”€ Icon.tsx (60è¡Œ)
â”‚   â”‚   â”œâ”€â”€ EmptyState.tsx (40è¡Œ)
â”‚   â”‚   â”œâ”€â”€ ScoreDisplay.tsx (80è¡Œ)
â”‚   â”‚   â”œâ”€â”€ MetricCard.tsx (60è¡Œ)
â”‚   â”‚   â”œâ”€â”€ CopyableText.tsx (50è¡Œ)
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ features/AnalysisResults/
â”‚       â”œâ”€â”€ AnalysisResults.tsx (60-70è¡Œ) â† ç°¡æ½”ï¼
â”‚       â”œâ”€â”€ HashtagsTab.tsx (40è¡Œ) â† 49%å‰Šæ¸›
â”‚       â”œâ”€â”€ TitlesTab.tsx (35è¡Œ) â† 40%å‰Šæ¸›
â”‚       â”œâ”€â”€ ViralityTab.tsx (60è¡Œ) â† 52%å‰Šæ¸›
â”‚       â”œâ”€â”€ MonetizationTab.tsx (80è¡Œ) â† 59%å‰Šæ¸›
â”‚       â””â”€â”€ SEOTab.tsx (120è¡Œ) â† 79%å‰Šæ¸›ï¼
â”‚
â”œâ”€â”€ hooks/ (æ–°è¦ãƒ»æ”¹å–„)
â”‚   â”œâ”€â”€ useScoreColor.ts (40è¡Œ)
â”‚   â”œâ”€â”€ useCopyToClipboard.ts (60è¡Œ)
â”‚   â”œâ”€â”€ useFormattedText.ts (30è¡Œ)
â”‚   â”œâ”€â”€ useTabState.ts (50è¡Œ)
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ config/ (æ–°è¦)
â”‚   â”œâ”€â”€ icons.config.tsx (100è¡Œ)
â”‚   â””â”€â”€ scoring.config.ts (50è¡Œ)
â”‚
â””â”€â”€ types/
    â””â”€â”€ analysis.ts (çµ±åˆ) (200è¡Œ)

Total: ~1,000è¡Œ (é‡è¤‡ã‚¼ãƒ­)

å‰Šæ¸›: 500è¡Œ (33%)
```

---

## ğŸ¯ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒ•ãƒ­ãƒ¼

### Phase 1: åŸºç›¤ä½œæˆ (1-2æ—¥)

```
Day 1 Morning:
â”œâ”€â”€ types/analysis.ts âœ…
â”œâ”€â”€ config/icons.config.tsx âœ…
â””â”€â”€ components/ui/shared/
    â”œâ”€â”€ Icon.tsx âœ…
    â””â”€â”€ EmptyState.tsx âœ…

Day 1 Afternoon:
â”œâ”€â”€ components/ui/shared/
â”‚   â”œâ”€â”€ ScoreDisplay.tsx âœ…
â”‚   â””â”€â”€ MetricCard.tsx âœ…
â””â”€â”€ hooks/
    â”œâ”€â”€ useScoreColor.ts âœ…
    â””â”€â”€ useCopyToClipboard.ts âœ…

Day 2:
â”œâ”€â”€ components/ui/shared/
â”‚   â””â”€â”€ CopyableText.tsx âœ…
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useFormattedText.ts âœ…
â””â”€â”€ ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ âœ…
```

---

### Phase 2: ã‚¿ãƒ–ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° (2-3æ—¥)

```
Day 3:
â”œâ”€â”€ HashtagsTab (React.memo + Icon + EmptyState) âœ…
â”œâ”€â”€ TitlesTab (åŒä¸Š) âœ…
â””â”€â”€ å‹•ä½œç¢ºèª âœ…

Day 4:
â”œâ”€â”€ InsightsTab (CopyableText + useFormattedText) âœ…
â”œâ”€â”€ ViralityTab (ScoreDisplay + useScoreColor) âœ…
â””â”€â”€ å‹•ä½œç¢ºèª âœ…

Day 5:
â”œâ”€â”€ MonetizationTab (ScoreDisplay) âœ…
â”œâ”€â”€ SEOTab (ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢) âœ…
â”œâ”€â”€ æ®‹ã‚Šã®ã‚¿ãƒ– âœ…
â””â”€â”€ å…¨ä½“ãƒ†ã‚¹ãƒˆ âœ…
```

---

### Phase 3: æœ€çµ‚æœ€é©åŒ– (1æ—¥)

```
Day 6:
â”œâ”€â”€ ANALYSIS_TABSã‚’configç§»å‹• âœ…
â”œâ”€â”€ React.lazy + Suspense âœ…
â”œâ”€â”€ useTabState hook âœ…
â”œâ”€â”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ âœ…
â””â”€â”€ Lighthouse Scoreç¢ºèª âœ…
```

---

## ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ”¹å–„ã®å¯è¦–åŒ–

### ã‚³ãƒ¼ãƒ‰é‡ã®å¤‰åŒ–

```
Before:
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1,500è¡Œ

After:
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1,000è¡Œ

å‰Šæ¸›: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 500è¡Œ (33%)
```

---

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å¤‰åŒ–

```
Before:
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 60.8 KB

After:
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 34.1 KB

å‰Šæ¸›: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 26.7 KB (44%)
```

---

### å†ãƒ¬ãƒ³ãƒ€ãƒ¼å›æ•°ã®å¤‰åŒ–

```
Before (ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚):
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ1: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ2: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ3: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
...
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ10: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

After (ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚):
ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®ã¿: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

å‰Šæ¸›: 90%
```

---

## ğŸ—ï¸ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

### Pattern 1: Atomic Design

```
Atoms (æœ€å°å˜ä½)
â”œâ”€â”€ Icon
â”œâ”€â”€ EmptyState
â””â”€â”€ Badge

Molecules (çµ„ã¿åˆã‚ã›)
â”œâ”€â”€ ScoreDisplay (Icon + Progress + Text)
â”œâ”€â”€ MetricCard (Icon + Value + Progress)
â””â”€â”€ CopyableText (Textarea + Button + Icon)

Organisms (è¤‡é›‘ãªUI)
â”œâ”€â”€ HashtagsTab (MetricCard Ã— N + Molecules)
â”œâ”€â”€ ViralityTab (ScoreDisplay + MetricCard Ã— N)
â””â”€â”€ SEOTab (è¤‡æ•°ã®Molecules)

Pages
â””â”€â”€ AnalysisResults (Organisms Ã— 10)
```

---

### Pattern 2: Container/Presentational

```
Container (ãƒ­ã‚¸ãƒƒã‚¯)
â”œâ”€â”€ useScoreColor (ã‚¹ã‚³ã‚¢ â†’ è‰²)
â”œâ”€â”€ useCopyToClipboard (ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰)
â””â”€â”€ useFormattedText (ãƒ‡ãƒ¼ã‚¿ â†’ ãƒ†ã‚­ã‚¹ãƒˆ)

Presentational (UI)
â”œâ”€â”€ Icon (props â†’ SVG)
â”œâ”€â”€ ScoreDisplay (score â†’ å††å½¢ã‚°ãƒ©ãƒ•)
â””â”€â”€ EmptyState (message â†’ ç©ºçŠ¶æ…‹UI)
```

---

## ğŸ¨ UIä¸€è²«æ€§ã®å‘ä¸Š

### Before: ãƒãƒ©ãƒãƒ©ãªã‚¹ã‚¿ã‚¤ãƒ«

```
HashtagsTab:
- è‰²: blue-600
- è§’ä¸¸: rounded-md
- ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°: p-2.5

TitlesTab:
- è‰²: blue-700
- è§’ä¸¸: rounded-lg
- ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°: p-4

(çµ±ä¸€æ„Ÿãªã—)
```

---

### After: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

```typescript
// ui.constants.ts
export const COLORS = {
  blue: {
    50: 'from-blue-50 to-indigo-50',
    text: 'text-blue-700 dark:text-blue-300',
    border: 'border-blue-100 dark:border-gray-600',
  }
};

// å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§çµ±ä¸€ä½¿ç”¨
<div className={COLORS.blue[50]}>
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```typescript
// Icon.test.tsx
describe('Icon', () => {
  it('renders correct SVG path', () => {
    render(<Icon name="hashtag" />);
    expect(screen.getByRole('img')).toBeInTheDocument();
  });
});

// useScoreColor.test.ts
describe('useScoreColor', () => {
  it('returns green for score >= 80', () => {
    const { result } = renderHook(() => useScoreColor(85));
    expect(result.current.colorClass).toBe('text-green-500');
  });
});
```

---

### ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ

```typescript
// HashtagsTab.test.tsx
describe('HashtagsTab', () => {
  it('displays hashtags', () => {
    const data = { hashtags: ['#test1', '#test2'] };
    render(<HashtagsTab data={data} />);
    expect(screen.getByText('#test1')).toBeInTheDocument();
  });

  it('shows empty state when no hashtags', () => {
    render(<HashtagsTab data={{ hashtags: [] }} />);
    expect(screen.getByText(/ç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ/)).toBeInTheDocument();
  });
});
```

---

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

```typescript
// Performance.test.tsx
describe('Performance', () => {
  it('does not re-render inactive tabs', () => {
    const { rerender } = render(<AnalysisResults data={data} />);

    // Initial render: 1 tab
    expect(getRenderCount()).toBe(1);

    // Data update
    rerender(<AnalysisResults data={newData} />);

    // Only active tab re-rendered
    expect(getRenderCount()).toBe(1); // Not 10!
  });
});
```

---

## ğŸ’¡ å®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆé †åº

```
1. Atoms (Icon, EmptyState)
   â†“
2. Hooks (useScoreColor, useCopyToClipboard)
   â†“
3. Molecules (ScoreDisplay, MetricCard)
   â†“
4. Organisms (å„ã‚¿ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
   â†“
5. Pages (AnalysisResults)
```

**ç†ç”±:** ä¸‹å±¤ã‹ã‚‰ä½œã‚‹ã“ã¨ã§ã€ä¸Šå±¤ã®å®Ÿè£…ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹

---

### 2. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º (TDD)

```
1. ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   it('should display score with correct color')

2. å®Ÿè£…ã™ã‚‹
   export const ScoreDisplay = ({ score }) => { ... }

3. ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
   âœ… All tests passed

4. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
   (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã€å¯èª­æ€§å‘ä¸Š)
```

---

### 3. æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹

```
Week 1: Phase 1 å®Œäº†
â”œâ”€â”€ æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
â””â”€â”€ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

Week 2: Phase 2 å®Œäº†
â”œâ”€â”€ ã‚¿ãƒ–ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
â”œâ”€â”€ ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
â””â”€â”€ ãƒ™ãƒ¼ã‚¿ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

Week 3: Phase 3 å®Œäº†
â”œâ”€â”€ æœ€çµ‚æœ€é©åŒ–
â”œâ”€â”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â””â”€â”€ æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
```

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### ä»Šã™ãå§‹ã‚ã‚‹

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
git checkout -b refactoring/frontend-optimization

# 2. Phase 1: Icon componentã‹ã‚‰
mkdir -p app/components/ui/shared
touch app/components/ui/shared/Icon.tsx

# 3. REFACTORING_PLAN.mdã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼

# 4. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run dev

# 5. å‹•ä½œç¢ºèªå¾Œã€æ¬¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸
```

---

### è³ªå•ãƒªã‚¹ãƒˆ

**Phase 1é–‹å§‹å‰:**
- [ ] TypeScriptè¨­å®šã¯æ­£ã—ã„ã‹ï¼Ÿ
- [ ] æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆã¯å‹•ä½œã™ã‚‹ã‹ï¼Ÿ
- [ ] é–‹ç™ºç’°å¢ƒã¯æ•´ã£ã¦ã„ã‚‹ã‹ï¼Ÿ

**å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆå¾Œ:**
- [ ] ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ï¼Ÿ
- [ ] æ—¢å­˜æ©Ÿèƒ½ã¯å‹•ä½œã™ã‚‹ã‹ï¼Ÿ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯æ”¹å–„ã—ãŸã‹ï¼Ÿ

**Phaseå®Œäº†å¾Œ:**
- [ ] ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã¯é€šã‚‹ã‹ï¼Ÿ
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã¯å‰Šæ¸›ã•ã‚ŒãŸã‹ï¼Ÿ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯æ›´æ–°ã•ã‚ŒãŸã‹ï¼Ÿ

---

## ğŸ“š å‚è€ƒè³‡æ–™

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [React.memo](https://react.dev/reference/react/memo)
- [React.lazy](https://react.dev/reference/react/lazy)
- [useMemo](https://react.dev/reference/react/useMemo)
- [useCallback](https://react.dev/reference/react/useCallback)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…
- `REFACTORING_PLAN.md` - è©³ç´°ãªå®Ÿè£…è¨ˆç”»
- `FRONTEND_REFACTORING_SUMMARY.md` - ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

---

**ã‚ãªãŸãªã‚‰ã€ãã£ã¨ã§ãã¾ã™ï¼ğŸš€**

ä½•ã‹è³ªå•ãŒã‚ã‚Œã°ã€ã„ã¤ã§ã‚‚ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
